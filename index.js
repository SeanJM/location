module.exports=function(e){function t(n){if(i[n])return i[n].exports;var r=i[n]={i:n,l:!1,exports:{}};return e[n].call(r.exports,r,r.exports,t),r.l=!0,r.exports}var i={};return t.m=e,t.c=i,t.d=function(e,i,n){t.o(e,i)||Object.defineProperty(e,i,{configurable:!1,enumerable:!0,get:n})},t.n=function(e){var i=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(i,"a",i),i},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=1)}([function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){for(var e in this)this.hasOwnProperty(e)&&(this[e]=void 0);return this}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(e){return e&&e.__esModule?e:{default:e}}(i(2));t.default=n.default},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),a=n(i(3)),h=n(i(4)),o=n(i(5)),u=n(i(7)),c=function(){function e(t,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.setSchema(t||{}),this.setLocation(i||{}),this.origin=new a.default(this.schema,this.location),this.search=new h.default(this.schema,this.location),this.params=new o.default(this.schema,this.location),this.hash=new u.default(this.schema,this.location),this.isMatch=this.origin.isMatch&&this.search.isMatch&&this.params.isMatch&&this.hash.isMatch}return s(e,[{key:"test",value:function(t){return new e(this.schema,t).isMatch}},{key:"setLocation",value:function(e){return this.location={origin:this.getUrlOrigin(e),href:this.getUrlHref(e),pathname:this.getUrlPathname(e),hash:this.getUrlHash(e),search:this.getUrlSearch(e)},this}},{key:"setSchema",value:function(e){return this.schema={origin:this.getUrlOrigin(e),href:this.getUrlHref(e),pathname:this.getUrlPathname(e),hash:this.getUrlHash(e),search:this.getUrlSearch(e)},this}},{key:"getLocationString",value:function(e){return e&&(e.href||e.pathname||e.origin)}},{key:"getUrlHash",value:function(e){if("string"==typeof e){var t=e.split("#")[1];return t&&"#"+t||""}if(e)return this.getUrlHash(e.hash||this.getLocationString(e))}},{key:"getUrlHref",value:function(e){return"object"===(void 0===e?"undefined":r(e))?e.href&&e.search&&-1===e.href.indexOf("?")?e.href+this.getUrlSearch(e.search):e.href||this.getLocationString(e):e}},{key:"getUrlPathname",value:function(e){if("object"===(void 0===e?"undefined":r(e)))return this.getUrlPathname(e.pathname||this.getLocationString(e));if("string"==typeof e){var t=e?e.split("?")[0].split("#")[0]:e,i=t&&t.length,n=0;if("object"===("undefined"==typeof loc?"undefined":r(loc)))return this.getUrlPathname(this.getLocationString(e));if(t)return 0===t.indexOf("http://")?n+=7:0===t.indexOf("https://")&&(n+=8),-1===(n=t.indexOf("/",n))?"/":t.substring(n,i)}}},{key:"getUrlOrigin",value:function(e){var t=void 0,i=void 0;return"object"===(void 0===e?"undefined":r(e))?this.getUrlOrigin(e.origin||e.href):(e&&(0===(e=e.split("?")[0]).indexOf("http")?(i=e.indexOf("/",e.indexOf("//")+2),t=e.substring(0,i>-1?i:e.length)):t=e.split("/")[0]?e.split("/")[0]:void 0),t)}},{key:"getUrlSearch",value:function(e){if("object"===(void 0===e?"undefined":r(e)))return this.getUrlSearch(e.search||this.getLocationString(e));if(e){var t=e.split("?");return t[1]&&(t[1]=t[1].split("#")[0]),t[1]?"?"+t[1]:""}}},{key:"locationFromString",value:function(e){return{pathname:this.getUrlPathname(e),hash:this.getHash(e),search:this.getUrlSearch(e)}}},{key:"toObject",value:function(t){return new e(this.__params,this.locationFromString(t))}},{key:"copy",value:function(){var t=new e(this.schema,this.location);for(var i in this.search)this.search.hasOwnProperty(i)&&(t.search[i]=this.search[i]);for(i in this.params)this.params.hasOwnProperty(i)&&(t.params[i]=this.params[i]);for(i in this.hash)this.hash.hasOwnProperty(i)&&(t.hash[i]=this.hash[i]);return t}},{key:"set",value:function(e){for(var t={},i=["pathname","href","hash","origin","search"],n=0,r=i.length;n<r;n++)e[i[n]]&&(t[i[n]]=e[i[n]],this.location[i[n]]=e[i[n]]);return(t.pathname||t.href)&&(this.location.params=this.getUrlPathname(this.getLocationString(t))),this.origin=new a.default(this.location),this.search=new h.default(this.location),this.params=new o.default(this.location),this.hash=new u.default(this.location),this.isMatch=this.params.__isMatch,this}},{key:"toString",value:function(){return this.origin.toString()+this.params.toString()+this.search.toString()+this.hash.toString()}}]),e}();t.default=c},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),r=function(){function e(t,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.schema=t.origin&&this.toExpression(t.origin),this.value=i.origin,this.isMatch=t.origin?this.schema.test(this.value):i.origin===t.origin}return n(e,[{key:"toExpression",value:function(e){return new RegExp(e.replace(/\*/g,".*?"))}}]),n(e,[{key:"toString",value:function(){return this.value||""}}]),e}();t.default=r},function(e,t,i){"use strict";function n(e){var t=Number(e);return isNaN(t)?e:t}Object.defineProperty(t,"__esModule",{value:!0});var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),a=i(0),h={searchEach:!0,setSchema:!0,setValue:!0,toString:!0,set:!0,get:!0,schema:!0,keys:!0,isMatch:!0},o=function(){function e(t,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.isMatch="string"==typeof t.search&&"string"==typeof i.search,this.src={schema:t.search||void 0,value:i.search||void 0},this.schema={},this.keys=[],this.setSchema(t.search)}return s(e,[{key:"searchEach",value:function(e,t){if(e)for(var i=("?"===e[0]?e.slice(1):e).split("&").filter(function(e){return e.length}),n=0,r=i.length;n<r;n++){var s=i[n].split("="),a="[]"===s[0].slice(-2),o=!1;if(s[0]=decodeURI(s[0]),s[1]=s[1]&&decodeURI(s[1]),h[s[0]])throw new Error("Invalid name: "+s[0]+", this is a reserved name");s[1]&&(s[1].indexOf(",")>-1?o=",":s[1].indexOf("+")>-1&&(o="+")),t({key:a?s[0].slice(0,-2):s[0],value:s[1],delimiter:o,type:a?"array":"object"})}}},{key:"setSchema",value:function(e){var t=this;return this.src.schema=e||void 0,this.searchEach(e,function(e){e.map=[],e.delimiter?e.value.split(e.delimiter).forEach(function(t){":"===t[0]?e.map.push({type:"variable",key:t.substring(1)}):e.map.push({type:"constant",key:t})}):e.value&&":"===e.value[0]&&e.map.push({type:"variable",key:e.value.substring(1)}),-1===t.keys.indexOf(e.key)&&t.keys.push(e.key),e.value=n(e.value),t.schema[e.key]=e}),this.src.value&&this.setValue(this.src.value),this}},{key:"setValue",value:function(e){var t=this,i={},r=[];this.src.value=e||void 0,this.searchEach(e,function(e){var n=t.schema[e.key];"array"===e.type?(i[e.key]||(i[e.key]={key:e.key,delimiter:!1,list:[]}),e.delimiter&&(i[e.key].delimiter=e.delimiter),i[e.key].list.push(e.value)):r.push(e),n||(t.isMatch=!1)});for(var s in i)i[s].list.forEach(function(e,r){var a=t.schema[i[s].key];t[i[s].key]=t[i[s].key]||[],a&&a.map.length?a.delimiter?e.split(i[s].delimiter).forEach(function(e,h){t[i[s].key][r]=t[i[s].key][r]||{},t[i[s].key][r][a.map[h].key]=n(e)}):(t[i[s].key][r]=t[i[s].key][r]||{},t[i[s].key][r][a.map[0].key]=n(e)):t[i[s].key].push(n(e))});r.forEach(function(e){var i=t.schema[e.key];t[e.key]={},i?i.delimiter?e.value.split(i.delimiter).forEach(function(r,s){var a=i.map[s];"variable"===a.type&&(t[e.key][a.key]=n(r))}):t[e.key][i.map[0].key]=n(e.value):t[e.key]=e.value?n(e.value):1})}},{key:"toString",value:function(){var e=[];for(var t in this)if(this.hasOwnProperty(t)&&!h[t])if(this.schema[t]&&this.schema[t].map.length)"array"===this.schema[t].type?e.push(function(e,t,i){for(var n=[],r=0,s=t.length;r<s;r++){n.push([encodeURI(e)+"[]="]);for(var a in t[r])n[r].push(t[r][a]);n[r]=n[r][0]+encodeURI(n[r].slice(1).join(i.delimiter))}return n.join("&")}(t,this[t],this.schema[t])):"object"===this.schema[t].type&&e.push(function(e,t,i){var n=[e+"=",[]];t=t||{};for(var r=0,s=i.map.length;r<s;r++)"constant"===i.map[r].type?n[1].push(i.map[r].key):t[i.map[r].key]&&n[1].push(t[i.map[r].key]);return encodeURI(n[0]+n[1].join("+"))}(t,this[t],this.schema[t]));else if("number"==typeof this[t]||"string"==typeof this[t]&&this[t].length)e.push(encodeURI(t+"="+this[t]));else if(Array.isArray(this[t]))for(var i=0,n=this[t].length;i<n;i++)e.push(encodeURI(t)+"[]="+encodeURI(this[t][i]));return e.length?"?"+e.join("&"):""}},{key:"set",value:function(t){for(var i in t)if(t.hasOwnProperty(i)&&!h[i])this[i]=t[i];else if(e.prototype[i])throw'Invalid property "'+i+'", this is a reserved key';return this}},{key:"get",value:function(e){var t={};if("object"===(void 0===e?"undefined":r(e))){for(var i=0,n=e.length;i<n;i++)t[e[i]]=this.get(e[i]);return t}return this[e]}}]),e}();t.default=o,o.prototype.clear=a},function(e,t,i){"use strict";function n(e){return"/"===(e=e||"")[0]&&(e=e.substring(1)),"/"===e[e.length-1]&&(e=e.substring(0,e.length-1)),e.length?e.split("/"):[]}function r(e,t){if("function"==typeof e[t])throw new Error('Invalid parameter name: "'+t+'", this is a reserved word.')}function s(e){return":"===e[0]?{type:"variable",key:e.slice(1)}:{type:"constant",key:e}}Object.defineProperty(t,"__esModule",{value:!0});var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},h=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),o=i(6),u=i(0),c=function(){function e(t,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);var a,h=[];this.schema=n(t.pathname),this.value=n(i.pathname),this.isMatch=!!i.pathname;for(var o=this.schema.length-1;o>=0;o--)"*"===this.schema[o]&&"*"===this.schema[o-1]&&this.schema.splice(o,1);for(var u=0,c=this.schema.length;u<c;u++)if("*"===this.schema[u])for(var l=u;-1===this.schema.slice(u).indexOf(this.value[l])&&this.value[l];)h.push(s(this.value[l])),l+=1;else h.push(s(this.schema[u]));this.schema=h,this.schema.length!==this.value.length&&(this.isMatch=!1);for(var f=0,y=this.schema.length;f<y;f++)"variable"!==(a=this.schema[f]).type&&"*"!==a.key&&a.key!==this.value[f]?this.isMatch=!1:"variable"===a.type&&(r(this,a.key.slice(1)),this[a.key]=this.value[f])}return h(e,[{key:"push",value:function(e){if("object"===(void 0===e?"undefined":a(e)))for(var t in e)r(this,t),this[t]=e[t],this.schema.push(s(e[t])),this.value.push(e[t]);else this.schema.push(s(e)),this.value.push(e);return this}},{key:"unshift",value:function(e){if("object"===(void 0===e?"undefined":a(e)))for(var t in e)r(this,t),this[t]=e[t],this.schema.unshift(s(e[t])),this.value.unshift(e[t]);else this.schema.unshift(s(e)),this.value.unshift(e);return this}},{key:"startsWith",value:function(e){var t=this.toString(),i="/"+n(e).join("/"),r=i.length;return 0===t.indexOf(i)&&("/"===t[r]||!t[r+1])}},{key:"contains",value:function(e){var t=this.toString(),i="/"+n(e).join("/");return t.indexOf(i)>-1}},{key:"is",value:function(e){return this.toString()==="/"+n(e).join("/")}},{key:"toString",value:function(){var e=[];if(this.schema.length)for(var t=0,i=this.schema.length;t<i;t++)"variable"===this.schema[t].type?e.push(this[this.schema[t].key]):e.push(this.schema[t].key);else for(var n=0,r=this.value.length;n<r;n++)e[n]=this.value[n];return"/"+e.join("/")}}]),e}();t.default=c,c.prototype.set=o,c.prototype.clear=u},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){for(var t in e)this[t]=e[t];return this}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),r=function(){function e(t,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.schema=t.hash||void 0,this.value=i.hash||void 0,this.isMatch=this.schema===this.value}return n(e,[{key:"toString",value:function(){var e=this.value||"";return e&&"#"!==e[0]&&(e="#"+e),e}}]),e}();t.default=r}]).default;