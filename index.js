module.exports=function(t){function e(n){if(i[n])return i[n].exports;var r=i[n]={i:n,l:!1,exports:{}};return t[n].call(r.exports,r,r.exports,e),r.l=!0,r.exports}var i={};return e.m=t,e.c=i,e.d=function(t,i,n){e.o(t,i)||Object.defineProperty(t,i,{configurable:!1,enumerable:!0,get:n})},e.n=function(t){var i=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(i,"a",i),i},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=1)}([function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(){for(var t in this)this.hasOwnProperty(t)&&(this[t]=void 0);return this}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(t){return t&&t.__esModule?t:{default:t}}(i(2));e.default=n.default},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},s=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),a=n(i(3)),h=n(i(4)),o=n(i(5)),u=n(i(7)),c=function(){function t(e,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.setSchema(e||{}),this.setLocation(i||{}),this.origin=new a.default(this.schema,this.location),this.search=new h.default(this.schema,this.location),this.params=new o.default(this.schema,this.location),this.hash=new u.default(this.schema,this.location),this.isMatch=this.origin.isMatch&&this.search.isMatch&&this.params.isMatch&&this.hash.isMatch}return s(t,[{key:"test",value:function(e){return new t(this.schema,e).isMatch}},{key:"setLocation",value:function(t){return this.location={origin:this.getUrlOrigin(t),href:this.getUrlHref(t),pathname:this.getUrlPathname(t),hash:this.getUrlHash(t),search:this.getUrlSearch(t)},this}},{key:"setSchema",value:function(t){return this.schema={origin:this.getUrlOrigin(t),href:this.getUrlHref(t),pathname:this.getUrlPathname(t),hash:this.getUrlHash(t),search:this.getUrlSearch(t)},this}},{key:"getLocationString",value:function(t){return t&&(t.href||t.pathname||t.origin)}},{key:"getUrlHash",value:function(t){if("string"==typeof t){var e=t.split("#")[1];return e&&"#"+e||""}if(t)return this.getUrlHash(t.hash||this.getLocationString(t))}},{key:"getUrlHref",value:function(t){return"object"===(void 0===t?"undefined":r(t))?t.href||this.getLocationString(t):t}},{key:"getUrlPathname",value:function(t){if("object"===(void 0===t?"undefined":r(t)))return this.getUrlPathname(t.pathname||this.getLocationString(t));if("string"==typeof t){var e=t?t.split("?")[0].split("#")[0]:t,i=e&&e.length,n=0;if("object"===("undefined"==typeof loc?"undefined":r(loc)))return this.getUrlPathname(this.getLocationString(t));if(e)return 0===e.indexOf("http://")?n+=7:0===e.indexOf("https://")&&(n+=8),-1===(n=e.indexOf("/",n))?"/":e.substring(n,i)}}},{key:"getUrlOrigin",value:function(t){var e=void 0,i=void 0;return"object"===(void 0===t?"undefined":r(t))?this.getUrlOrigin(t.origin||t.href):(t&&(0===(t=t.split("?")[0]).indexOf("http")?(i=t.indexOf("/",t.indexOf("//")+2),e=t.substring(0,i>-1?i:t.length)):e=t.split("/")[0]?t.split("/")[0]:void 0),e)}},{key:"getUrlSearch",value:function(t){if("object"===(void 0===t?"undefined":r(t)))return this.getUrlSearch(t.search||this.getLocationString(t));if(t){return t.split("?")[1]?"?"+t.split("?")[1]:""}}},{key:"locationFromString",value:function(t){return{pathname:this.getUrlPathname(t),hash:this.getHash(t),search:this.getUrlSearch(t)}}},{key:"toObject",value:function(e){return new t(this.__params,this.locationFromString(e))}},{key:"copy",value:function(){var e=new t(this.schema,this.location);for(var i in this.search)this.search.hasOwnProperty(i)&&(e.search[i]=this.search[i]);for(i in this.params)this.params.hasOwnProperty(i)&&(e.params[i]=this.params[i]);for(i in this.hash)this.hash.hasOwnProperty(i)&&(e.hash[i]=this.hash[i]);return e}},{key:"set",value:function(t){for(var e={},i=["pathname","href","hash","origin","search"],n=0,r=i.length;n<r;n++)t[i[n]]&&(e[i[n]]=t[i[n]],this.location[i[n]]=t[i[n]]);return(e.pathname||e.href)&&(this.location.params=this.getUrlPathname(this.getLocationString(e))),this.origin=new a.default(this.location),this.search=new h.default(this.location),this.params=new o.default(this.location),this.hash=new u.default(this.location),this.isMatch=this.params.__isMatch,this}},{key:"toString",value:function(){return this.origin.toString()+this.params.toString()+this.search.toString()+this.hash.toString()}}]),t}();e.default=c},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),r=function(){function t(e,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.schema=e.origin&&this.toExpression(e.origin),this.value=i.origin,this.isMatch=e.origin?this.schema.test(this.value):i.origin===e.origin}return n(t,[{key:"toExpression",value:function(t){return new RegExp(t.replace(/\*/g,".*?"))}}]),n(t,[{key:"toString",value:function(){return this.value||""}}]),t}();e.default=r},function(t,e,i){"use strict";function n(t){var e=Number(t);return isNaN(e)?t:e}Object.defineProperty(e,"__esModule",{value:!0});var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},s=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),a=i(0),h={searchEach:!0,setSchema:!0,setValue:!0,toString:!0,set:!0,get:!0,schema:!0,keys:!0,isMatch:!0},o=function(){function t(e,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.isMatch="string"==typeof e.search&&"string"==typeof i.search,this.schema={},this.keys=[],this.setSchema(e.search),this.setValue(i.search)}return s(t,[{key:"searchEach",value:function(t,e){if(t)for(var i=("?"===t[0]?t.slice(1):t).split("&").filter(function(t){return t.length}),n=0,r=i.length;n<r;n++){var s=i[n].split("="),a="[]"===s[0].slice(-2),o=!1;if(s[0]=decodeURI(s[0]),s[1]=s[1]&&decodeURI(s[1]),h[s[0]])throw new Error("Invalid name: "+s[0]+", this is a reserved name");s[1]&&(s[1].indexOf(",")>-1?o=",":s[1].indexOf("+")>-1&&(o="+")),e({key:a?s[0].slice(0,-2):s[0],value:s[1],delimiter:o,type:a?"array":"object"})}}},{key:"setSchema",value:function(t){var e=this;this.searchEach(t,function(t){t.map=[],t.delimiter?t.value.split(t.delimiter).forEach(function(e){":"===e[0]?t.map.push({type:"variable",key:e.substring(1)}):t.map.push({type:"constant",key:e})}):t.value&&":"===t.value[0]&&t.map.push({type:"variable",key:t.value.substring(1)}),-1===e.keys.indexOf(t.key)&&e.keys.push(t.key),t.value=n(t.value),e.schema[t.key]=t})}},{key:"setValue",value:function(t){var e=this,i={},r=[];this.searchEach(t,function(t){var n=e.schema[t.key];"array"===t.type?(i[t.key]||(i[t.key]={key:t.key,delimiter:!1,list:[]}),t.delimiter&&(i[t.key].delimiter=t.delimiter),i[t.key].list.push(t.value)):r.push(t),n||(e.isMatch=!1)});for(var s in i)i[s].list.forEach(function(t,r){var a=e.schema[i[s].key];e[i[s].key]=e[i[s].key]||[],a&&a.map.length?a.delimiter?t.split(i[s].delimiter).forEach(function(t,h){e[i[s].key][r]=e[i[s].key][r]||{},e[i[s].key][r][a.map[h].key]=n(t)}):(e[i[s].key][r]=e[i[s].key][r]||{},e[i[s].key][r][a.map[0].key]=n(t)):e[i[s].key].push(n(t))});r.forEach(function(t){var i=e.schema[t.key];e[t.key]={},i&&(i.delimiter?t.value.split(i.delimiter).forEach(function(r,s){var a=i.map[s];"variable"===a.type&&(e[t.key][a.key]=n(r))}):e[t.key][i.map[0].key]=n(t.value))})}},{key:"toString",value:function(){var t=[];for(var e in this)if(this.hasOwnProperty(e)&&!h[e])if(this.schema[e]&&this.schema[e].map.length)"array"===this.schema[e].type?t.push(function(t,e,i){for(var n=[],r=0,s=e.length;r<s;r++){n.push([encodeURI(t)+"[]="]);for(var a in e[r])n[r].push(e[r][a]);n[r]=n[r][0]+encodeURI(n[r].slice(1).join(i.delimiter))}return n.join("&")}(e,this[e],this.schema[e])):"object"===this.schema[e].type&&t.push(function(t,e,i){var n=[t+"=",[]];e=e||{};for(var r=0,s=i.map.length;r<s;r++)"constant"===i.map[r].type?n[1].push(i.map[r].key):e[i.map[r].key]&&n[1].push(e[i.map[r].key]);return encodeURI(n[0]+n[1].join("+"))}(e,this[e],this.schema[e]));else if("number"==typeof this[e]||"string"==typeof this[e]&&this[e].length)t.push(encodeURI(e+"="+this[e]));else if(Array.isArray(this[e]))for(var i=0,n=this[e].length;i<n;i++)t.push(encodeURI(e)+"[]="+encodeURI(this[e][i]));return t.length?"?"+t.join("&"):""}},{key:"set",value:function(e){for(var i in e)if(e.hasOwnProperty(i)&&!h[i])this[i]=e[i];else if(t.prototype[i])throw'Invalid property "'+i+'", this is a reserved key';return this}},{key:"get",value:function(t){var e={};if("object"===(void 0===t?"undefined":r(t))){for(var i=0,n=t.length;i<n;i++)e[t[i]]=this.get(t[i]);return e}return this[t]}}]),t}();e.default=o,o.prototype.clear=a},function(t,e,i){"use strict";function n(t){return"/"===(t=t||"")[0]&&(t=t.substring(1)),"/"===t[t.length-1]&&(t=t.substring(0,t.length-1)),t.length?t.split("/"):[]}function r(t,e){if("function"==typeof t[e])throw new Error('Invalid parameter name: "'+e+'", this is a reserved word.')}function s(t){return":"===t[0]?{type:"variable",key:t.slice(1)}:{type:"constant",key:t}}Object.defineProperty(e,"__esModule",{value:!0});var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},h=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),o=i(6),u=i(0),c=function(){function t(e,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);var a,h=[];this.schema=n(e.pathname),this.value=n(i.pathname),this.isMatch=!!i.pathname;for(var o=this.schema.length-1;o>=0;o--)"*"===this.schema[o]&&"*"===this.schema[o-1]&&this.schema.splice(o,1);for(var u=0,c=this.schema.length;u<c;u++)if("*"===this.schema[u])for(var l=u;-1===this.schema.slice(u).indexOf(this.value[l])&&this.value[l];)h.push(s(this.value[l])),l+=1;else h.push(s(this.schema[u]));this.schema=h,this.schema.length!==this.value.length&&(this.isMatch=!1);for(var f=0,y=this.schema.length;f<y;f++)"variable"!==(a=this.schema[f]).type&&"*"!==a.key&&a.key!==this.value[f]?this.isMatch=!1:"variable"===a.type&&(r(this,a.key.slice(1)),this[a.key]=this.value[f])}return h(t,[{key:"push",value:function(t){if("object"===(void 0===t?"undefined":a(t)))for(var e in t)r(this,e),this[e]=t[e],this.schema.push(s(t[e])),this.value.push(t[e]);else this.schema.push(s(t)),this.value.push(t);return this}},{key:"unshift",value:function(t){if("object"===(void 0===t?"undefined":a(t)))for(var e in t)r(this,e),this[e]=t[e],this.schema.unshift(s(t[e])),this.value.unshift(t[e]);else this.schema.unshift(s(t)),this.value.unshift(t);return this}},{key:"startsWith",value:function(t){var e=this.toString(),i="/"+n(t).join("/"),r=i.length;return 0===e.indexOf(i)&&("/"===e[r]||!e[r+1])}},{key:"contains",value:function(t){var e=this.toString(),i="/"+n(t).join("/");return e.indexOf(i)>-1}},{key:"is",value:function(t){return this.toString()==="/"+n(t).join("/")}},{key:"toString",value:function(){var t=[];if(this.schema.length)for(var e=0,i=this.schema.length;e<i;e++)"variable"===this.schema[e].type?t.push(this[this.schema[e].key]):t.push(this.schema[e].key);else for(var n=0,r=this.value.length;n<r;n++)t[n]=this.value[n];return"/"+t.join("/")}}]),t}();e.default=c,c.prototype.set=o,c.prototype.clear=u},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){for(var e in t)this[e]=t[e];return this}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),r=function(){function t(e,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.schema=e.hash,this.value=i.hash,this.isMatch=this.schema===this.value}return n(t,[{key:"toString",value:function(){var t=this.value||"";return t&&"#"!==t[0]&&(t="#"+t),t}}]),t}();e.default=r}]).default;