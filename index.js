module.exports=function(t){function e(n){if(i[n])return i[n].exports;var r=i[n]={i:n,l:!1,exports:{}};return t[n].call(r.exports,r,r.exports,e),r.l=!0,r.exports}var i={};return e.m=t,e.c=i,e.d=function(t,i,n){e.o(t,i)||Object.defineProperty(t,i,{configurable:!1,enumerable:!0,get:n})},e.n=function(t){var i=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(i,"a",i),i},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=1)}([function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(){for(var t in this)this.hasOwnProperty(t)&&(this[t]=void 0);return this}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(t){return t&&t.__esModule?t:{default:t}}(i(2));e.default=n.default},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},a=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),s=n(i(3)),o=n(i(4)),h=n(i(5)),u=n(i(7)),c=function(){function t(e,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.setSchema(e||{}),this.setLocation(i||{}),this.origin=new s.default(this.schema,this.location),this.search=new o.default(this.schema,this.location),this.params=new h.default(this.schema,this.location),this.hash=new u.default(this.schema,this.location),this.isMatch=this.origin.isMatch&&this.search.isMatch&&this.params.isMatch&&this.hash.isMatch}return a(t,[{key:"test",value:function(e){return new t(this.arguments.schema,e).isMatch}},{key:"setLocation",value:function(t){return this.location={origin:this.getUrlOrigin(t),href:this.getUrlHref(t),pathname:this.getUrlPathname(t),hash:this.getUrlHash(t),search:this.getUrlSearch(t)},this}},{key:"setSchema",value:function(t){return this.schema={origin:this.getUrlOrigin(t),href:this.getUrlHref(t),pathname:this.getUrlPathname(t),hash:this.getUrlHash(t),search:this.getUrlSearch(t)},this}},{key:"getLocationString",value:function(t){return t&&(t.href||t.pathname||t.origin)}},{key:"getUrlHash",value:function(t){if("string"==typeof t){var e=t.split("#")[1];return e&&"#"+e||""}if(t)return this.getUrlHash(t.hash||this.getLocationString(t))}},{key:"getUrlHref",value:function(t){return"object"===(void 0===t?"undefined":r(t))?t.href||this.getLocationString(t):t}},{key:"getUrlPathname",value:function(t){if("object"===(void 0===t?"undefined":r(t)))return this.getUrlPathname(t.pathname||this.getLocationString(t));if("string"==typeof t){var e=t?t.split("?")[0].split("#")[0]:t,i=e&&e.length,n=0;if("object"===("undefined"==typeof loc?"undefined":r(loc)))return this.getUrlPathname(this.getLocationString(t));if(e)return 0===e.indexOf("http://")?n+=7:0===e.indexOf("https://")&&(n+=8),-1===(n=e.indexOf("/",n))?"/":e.substring(n,i)}}},{key:"getUrlOrigin",value:function(t){var e=void 0,i=void 0;return"object"===(void 0===t?"undefined":r(t))?this.getUrlOrigin(t.origin||t.href):(t&&0===t.indexOf("http")&&(i=(t=t.split("?")[0]).indexOf("/",t.indexOf("//")+2),e=t.substring(0,i>-1?i:t.length)),e)}},{key:"getUrlSearch",value:function(t){if("object"===(void 0===t?"undefined":r(t)))return this.getUrlSearch(t.search||this.getLocationString(t));if(t){return t.split("?")[1]?"?"+t.split("?")[1]:""}}},{key:"locationFromString",value:function(t){return{pathname:this.getUrlPathname(t),hash:this.getHash(t),search:this.getUrlSearch(t)}}},{key:"toObject",value:function(e){return new t(this.__params,this.locationFromString(e))}},{key:"copy",value:function(){var e=new t(this.params.value,this.location.value);for(var i in this.search)this.search.hasOwnProperty(i)&&(e.search[i]=this.search[i]);for(i in this.params)this.params.hasOwnProperty(i)&&(e.params[i]=this.params[i]);for(i in this.hash)this.hash.hasOwnProperty(i)&&(e.hash[i]=this.hash[i]);return e}},{key:"set",value:function(t){for(var e={},i=["pathname","href","hash","origin","search"],n=0,r=i.length;n<r;n++)t[i[n]]&&(e[i[n]]=t[i[n]],this.location[i[n]]=t[i[n]]);return(e.pathname||e.href)&&(this.location.params=this.getUrlPathname(this.getLocationString(e))),this.origin=new s.default(this.location),this.search=new o.default(this.location),this.params=new h.default(this.location),this.hash=new u.default(this.location),this.isMatch=this.params.__isMatch,this}},{key:"toString",value:function(){return this.origin.toString()+this.params.toString()+this.search.toString()+this.hash.toString()}}]),t}();e.default=c},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),r=function(){function t(e,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.schema=e.origin,this.value=i.origin,this.isMatch=this.schema===this.value}return n(t,[{key:"toString",value:function(){return this.value||""}}]),t}();e.default=r},function(t,e,i){"use strict";function n(t){var e=Number(t);return isNaN(e)?t:e}Object.defineProperty(e,"__esModule",{value:!0});var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},a=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),s=i(0),o={searchEach:!0,setSchema:!0,setValue:!0,toString:!0,set:!0,get:!0,schema:!0,keys:!0},h=function(){function t(e,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.isMatch="string"==typeof e.search&&"string"==typeof i.search,this.schema={},this.keys=[],this.setSchema(e.search),this.setValue(i.search)}return a(t,[{key:"searchEach",value:function(t,e){if(t)for(var i=("?"===t[0]?t.slice(1):t).split("&").filter(function(t){return t.length}),n=0,r=i.length;n<r;n++){var a=i[n].split("="),s="[]"===a[0].slice(-2),h=!1;if(a[0]=decodeURI(a[0]),a[1]=a[1]&&decodeURI(a[1]),o[a[0]])throw new Error("Invalid name: "+a[0]+", this is a reserved name");a[1]&&(a[1].indexOf(",")>-1?h=",":a[1].indexOf("+")>-1&&(h="+")),e({key:s?a[0].slice(0,-2):a[0],value:a[1],delimiter:h,type:s?"array":"object"})}}},{key:"setSchema",value:function(t){var e=this;this.searchEach(t,function(t){t.map=[],t.delimiter?t.value.split(t.delimiter).forEach(function(e){":"===e[0]?t.map.push(e.substring(1)):t.map.push({constant:e})}):t.value&&":"===t.value[0]&&t.map.push(t.value.substring(1)),-1===e.keys.indexOf(t.key)&&e.keys.push(t.key),t.value=n(t.value),e.schema[t.key]=t})}},{key:"setValue",value:function(t){var e=this,i={},r=[];this.searchEach(t,function(t){var n=e.schema[t.key];"array"===t.type?(i[t.key]||(i[t.key]={key:t.key,delimiter:!1,list:[]}),t.delimiter&&(i[t.key].delimiter=t.delimiter),i[t.key].list.push(t.value)):r.push(t),n||(e.isMatch=!1)});for(var a in i)i[a].list.forEach(function(t,r){var s=e.schema[i[a].key];e[i[a].key]=e[i[a].key]||[],s&&s.map.length?s.delimiter?t.split(i[a].delimiter).forEach(function(t,o){e[i[a].key][r]=e[i[a].key][r]||{},e[i[a].key][r][s.map[o]]=n(t)}):(e[i[a].key][r]=e[i[a].key][r]||{},e[i[a].key][r][s.map[0]]=n(t)):e[i[a].key].push(n(t))});r.forEach(function(t){var i=e.schema[t.key];e[t.key]={},i.delimiter?t.value.split(i.delimiter).forEach(function(r){e[t.key][i.map[0]]=n(r)}):e[t.key][i.map[0]]=n(t.value)})}},{key:"toString",value:function(){var t=[];for(var e in this)if(this.hasOwnProperty(e)&&!o[e])if(this.schema[e]&&this.schema[e].map.length)"array"===this.schema[e].type?t.push(function(t,e,i){for(var n=[],r=0,a=e.length;r<a;r++){n.push([encodeURI(t)+"[]="]);for(var s in e[r])n[r].push(e[r][s]);n[r]=n[r][0]+encodeURI(n[r].slice(1).join(i.delimiter))}return n.join("&")}(e,this[e],this.schema[e])):"object"===this.schema[e].type&&t.push(function(t,e,i){var n=[t+"=",[]];e=e||{};for(var r=0,a=i.map.length;r<a;r++)i.map[r].constant?n[1].push(i.map[r].constant):e[i.map[r]]&&n[1].push(e[i.map[r]]);return encodeURI(n[0]+n[1].join("+"))}(e,this[e],this.schema[e]));else if("number"==typeof this[e]||"string"==typeof this[e]&&this[e].length)t.push(encodeURI(e+"="+this[e]));else if(Array.isArray(this[e]))for(var i=0,n=this[e].length;i<n;i++)t.push(encodeURI(e)+"[]="+encodeURI(this[e][i]));return t.length?"?"+t.join("&"):""}},{key:"set",value:function(e){for(var i in e)if(e.hasOwnProperty(i)&&!o[i])this[i]=e[i];else if(t.prototype[i])throw'Invalid property "'+i+'", this is a reserved key';return this}},{key:"get",value:function(t){var e={};if("object"===(void 0===t?"undefined":r(t))){for(var i=0,n=t.length;i<n;i++)e[t[i]]=this.get(t[i]);return e}return this[t]}}]),t}();e.default=h,h.prototype.clear=s},function(t,e,i){"use strict";function n(t){return"/"===(t=t||"")[0]&&(t=t.substring(1)),"/"===t[t.length-1]&&(t=t.substring(0,t.length-1)),t.length?t.split("/"):[]}function r(t,e){if("function"==typeof t[e])throw new Error('Invalid parameter name: "'+e+'", this is a reserved word.')}Object.defineProperty(e,"__esModule",{value:!0});var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},s=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),o=i(6),h=i(0),u=function(){function t(e,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.schema=n(e.pathname),this.value=n(i.pathname),this.isMatch=!!i.pathname,1===this.schema.length&&"*"===this.schema[0]?this.schema=this.value.map(function(){return"*"}):this.schema.length!==this.value.length&&(this.isMatch=!1);for(var a=0,s=this.schema.length;a<s;a++)":"!==this.schema[a][0]&&"*"!==this.schema[a]&&this.schema[a]!==this.value[a]?this.isMatch=!1:":"===this.schema[a][0]&&(r(this,this.schema[a].slice(1)),this[this.schema[a].slice(1)]=this.value[a])}return s(t,[{key:"push",value:function(t){if("object"===(void 0===t?"undefined":a(t)))for(var e in t)r(this,e),this[e]=t[e],this.schema.push(t[e]),this.value.push(t[e]);else this.schema.push(t),this.value.push(t);return this}},{key:"unshift",value:function(t){if("object"===(void 0===t?"undefined":a(t)))for(var e in t)r(this,e),this[e]=t[e],this.schema.unshift(t[e]),this.value.unshift(t[e]);else this.schema.unshift(t),this.value.unshift(t);return this}},{key:"startsWith",value:function(t){var e=this.toString(),i="/"+n(t).join("/"),r=i.length;return 0===e.indexOf(i)&&("/"===e[r]||!e[r+1])}},{key:"contains",value:function(t){var e=this.toString(),i="/"+n(t).join("/");return e.indexOf(i)>-1}},{key:"is",value:function(t){return this.toString()==="/"+n(t).join("/")}},{key:"toString",value:function(){for(var t=this.value.length,e=new Array(t),i=0;i<t;i++)e[i]=this.value[i];return"/"+e.join("/")}}]),t}();e.default=u,u.prototype.set=o,u.prototype.clear=h},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){for(var e in t)this[e]=t[e];return this}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),r=function(){function t(e,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.schema=e.hash,this.value=i.hash,this.isMatch=this.schema===this.value}return n(t,[{key:"toString",value:function(){var t=this.value||"";return t&&"#"!==t[0]&&(t="#"+t),t}}]),t}();e.default=r}]).default;